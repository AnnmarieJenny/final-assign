<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Final Project Prep</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' /> <!-- explain what this does...for toggle?-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.css' rel='stylesheet' />
  <link rel="stylesheet" href="css/styles.css?v=1.0">
  <!-- might need this for layer ids ??-->
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.js"></script>
  <!-- add in libraries for map legend / toggle features -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mapbox-gl/1.13.0/mapbox-gl.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mapbox-gl/1.13.0/mapbox-gl.css">
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/spectre.css/0.5.9/spectre.min.css'/>
  <link rel="stylesheet" href="../src/layerControl.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css"
    integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous" />
  <script src='https://github.com/lukasmartinelli/mapbox-gl-inspect/releases/download/v1.3.1/mapbox-gl-inspect.js'></script>
  <link href='https://github.com/lukasmartinelli/mapbox-gl-inspect/releases/download/v1.3.1/mapbox-gl-inspect.css' rel='stylesheet' />
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">H+V Map</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav"> <!--need to keep this right?-->
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Resource Links
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <li><a class="dropdown-item" href="#">Action</a></li>
                <li><a class="dropdown-item" href="#">Another action</a></li>
                <li><a class="dropdown-item" href="#">Something else here</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  <div class= 'master-container'>
    <div id='sidebar'><p class = 'title'>Hazard and Vulnerability Map</p>
        <p class = 'city-title'>City of Long Beach, CA</p><br></br>
      <p class = 'subtitle'>How to Use This Map</p>
      <p class = 'text'>[Explanation]</p><br></br>
      <p class = 'subtitle'>Defining Key Terms</p>
      <p class = 'text'>[100-Year Flood Zone, Liquefaction, etc.]</p><br></br>
      <p class = 'subtitle'>Data Sources</p>
      <p class = 'text'>[List of Sources]</p>
    </div>
  <div id='map-container'></div>
  <!--<nav id="menu"></nav>-->
</div>
  <script>

  </script>
  <script type="module">
  // import layer controls from libraries (in html) for toggling functions
    import {layerControlGrouped } from "../src/layerControlGrouped.js"
    // try with the id and no id, type, data, and then try the other way
    // figure out parent / children dynamics
        var config = {
                collapsed: false,
                layers: [
                {
                    id: "Land Uses",
                    hidden: true,
                    group: "Land Uses",
                    directory: "Primary Layers"
                  },
                  {
                    id: "Poverty Rate (2016)",
                    hidden: false,
                    group: "Povery Rate (2016)",
                    directory: "Primary Layers"
                  },
                  {
                    id: "Long Beach City",
                    hidden: true,
                    group: "Long Beach City",
                    directory: "Primary Layers"
                  },
                  {
                    id: "Flood Zones",
                    hidden: false,
                    group: "Political",
                    directory: "Secondary Layers"
                  },
                  {
                    id: "Liquefaction Zone",
                    hidden: false,
                    group: "Hydro",
                    directory: "Secondary Layers"
                  }
                ]
              }
              map.addControl(new layerControlGrouped(config), "top-right");
                    map.addControl(new MapboxInspect({
                      showInspectButton: false,
                      showInspectMapPopup: false,
                      showMapPopup: true,
                      showMapPopupOnHover: false,
                      showInspectMapPopupOnHover: false,
                      /*popup: new mapboxgl.Popup({
                        closeButton: true,
                        closeOnClick: false
                      })*/
                    }));
    </script>
  <script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script> <!--loading jquery-->
  <script src="js/scripts.js"></script>
</body>
</html>
